## 如何使用自动编号控件？

用友云表单V3.0除了增加了一些新控件外，还提升了一些控件自身的功能，自动编号控件就是其中之一，新的自动编号控件较之前版本增加了如下功能：支持常量及日期型字段。

1、 自动编号控件在设计器中的位置：

控件页签的系统分类下面，如图一所示。

![](/articles/form/4-2/images/image_bm01.png)
图一

2、 自动编号控件的属性：

如图二所示。

![](/articles/form/4-2/images/image_bm03.png)

图二

系统预置了两大类的编码规则，可分解为8小类编码：

规则1、（常量）+（字段）+流水号，可分解为：

流水号

常量+流水号

字段+流水号

常量+字段+流水号

规则2、（常量）+年+（字段）+流水号，可分解为：

年+流水号

常量+年+流水号

年+字段+流水号

常量+年+字段+流水号

其中：

常量：是一个由任意字符组成的字符串，字母、数字、字符、汉字等均可；

年：取当前系统年份，长度四位；

流水号：顺序号，位数由“流水位数”定义，取值范围1-9，可以改大 ，但改小时需要校验合法性；

字段：表单中的字段，支持文本、日期和选项中的单项。在生成的编号中会用选中字段的取值来填充“字段”的位置，根据字段的不同取值重新流水，为空时字段不显示；

3、 自动编号的示例：

以请假单为例，常量设置为QJ，可供选择的字段为：申请日期（日期）、请假类型（选项）、所在部门（文本）

![![](/assets/请假单.png)
](/articles/form/4-2/images/image_spyj01.png)
图三

![](/articles/form/4-2/images/image_bm02.png)
注意：

自动编号是在提交后生成，填单时是看不到的。

